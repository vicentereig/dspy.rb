---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Remember that
        I like coffee in the morning.\\\"}\",\n  \"history\": [],\n  \"available_tools\":
        [\n    {\n      \"name\": \"memory_store\",\n      \"description\": \"Store
        a key-value pair in memory with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '9007'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:32 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '2020'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2036'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9868'
      X-Ratelimit-Remaining-Tokens:
      - '198077'
      X-Ratelimit-Reset-Requests:
      - 18m55.912s
      X-Ratelimit-Reset-Tokens:
      - 576ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5b9e18807ec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6IAStODIAXCHDJdooTWXk9vMYK",
          "object": "chat.completion",
          "created": 1765463910,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"I need to store the user's preference about coffee in the morning in memory to recall it later.\",\n  \"action\": \"memory_store\",\n  \"tool_input\": {\n    \"key\": \"morning_coffee_preference\",\n    \"value\": \"I like coffee in the morning\",\n    \"tags\": null\n  },\n  \"final_answer\": null\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1701,
            "completion_tokens": 87,
            "total_tokens": 1788,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:32 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts, actions, and observations.\"\n    },\n    \"observation\": {\n      \"type\":
        \"string\",\n      \"description\": \"The result from the last action\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"observation\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"interpretation\": {\n      \"type\":
        \"string\",\n      \"description\": \"Interpretation of the observation\"\n    },\n    \"next_step\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"continue\",\n        \"finish\"\n      ],\n      \"description\":
        \"What to do next: ''#<DSPy::NextStep::Continue>'' or ''#<DSPy::NextStep::Finish>''\"\n    }\n  },\n  \"required\":
        [\n    \"interpretation\",\n    \"next_step\"\n  ]\n}\n```\n\nAll interactions
        will be structured in the following way, with the appropriate values filled
        in.\n## Input values\n```json\n{input_values}\n```\n## Output values\nRespond
        exclusively with the output schema fields in the json block below.\n```json\n{output_values}\n```\n\nIn
        adhering to this structure, your objective is: Process the observation from
        a tool and decide what to do next."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Remember that
        I like coffee in the morning.\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"I need to store the user''s preference about coffee
        in the morning in memory to recall it later.\",\n      \"action\": \"memory_store\",\n      \"tool_input\":
        {\n        \"key\": \"morning_coffee_preference\",\n        \"value\": \"I
        like coffee in the morning\",\n        \"tags\": null\n      },\n      \"observation\":
        \"Stored memory ''morning_coffee_preference'' successfully\"\n    }\n  ],\n  \"observation\":
        \"Stored memory ''morning_coffee_preference'' successfully\"\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '3684'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:34 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '2057'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2073'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9867'
      X-Ratelimit-Remaining-Tokens:
      - '199191'
      X-Ratelimit-Reset-Requests:
      - 19m2.382s
      X-Ratelimit-Reset-Tokens:
      - 242ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5b9ef2871ec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6KcTD9pJf2xomdOmfe9sa8IsIv",
          "object": "chat.completion",
          "created": 1765463912,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"interpretation\": \"The user's preference for coffee in the morning has been successfully stored in memory.\",\n  \"next_step\": \"finish\"\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 770,
            "completion_tokens": 39,
            "total_tokens": 809,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:35 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Remember that
        I like coffee in the morning.\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"I need to store the user''s preference about coffee
        in the morning in memory to recall it later.\",\n      \"action\": \"memory_store\",\n      \"tool_input\":
        {\n        \"key\": \"morning_coffee_preference\",\n        \"value\": \"I
        like coffee in the morning\",\n        \"tags\": null\n      },\n      \"observation\":
        \"Stored memory ''morning_coffee_preference'' successfully\"\n    }\n  ],\n  \"available_tools\":
        [\n    {\n      \"name\": \"memory_store\",\n      \"description\": \"Store
        a key-value pair in memory with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '9448'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:37 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '1995'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2014'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9867'
      X-Ratelimit-Remaining-Tokens:
      - '197977'
      X-Ratelimit-Reset-Requests:
      - 19m8.821s
      X-Ratelimit-Reset-Tokens:
      - 606ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5b9fcdcadec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6NblHUCiULP1KTijfOLC21BTSL",
          "object": "chat.completion",
          "created": 1765463915,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"I have already stored the user's coffee preference, so I can proceed to retrieve it and confirm the stored information.\",\n  \"action\": \"memory_retrieve\",\n  \"tool_input\": {\n    \"key\": \"morning_coffee_preference\"\n  },\n  \"final_answer\": null\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1802,
            "completion_tokens": 73,
            "total_tokens": 1875,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:37 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Also remember
        that I exercise on weekends.\\\"}\",\n  \"history\": [],\n  \"available_tools\":
        [\n    {\n      \"name\": \"memory_store\",\n      \"description\": \"Store
        a key-value pair in memory with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '9006'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:39 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '2272'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2284'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9866'
      X-Ratelimit-Remaining-Tokens:
      - '198078'
      X-Ratelimit-Reset-Requests:
      - 19m15.326s
      X-Ratelimit-Reset-Tokens:
      - 576ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba0a2b2bec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6PhHXgxVAAWV8Xo8iy2lUjxiVu",
          "object": "chat.completion",
          "created": 1765463917,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"I need to store the information that the user exercises on weekends to enhance context for future interactions. This will allow me to respond better when related questions arise.\",\n  \"action\": \"memory_store\",\n  \"tool_input\": {\n    \"key\": \"exercise_schedule\",\n    \"value\": \"I exercise on weekends.\",\n    \"tags\": null\n  },\n  \"final_answer\": null\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1700,
            "completion_tokens": 93,
            "total_tokens": 1793,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:39 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts, actions, and observations.\"\n    },\n    \"observation\": {\n      \"type\":
        \"string\",\n      \"description\": \"The result from the last action\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"observation\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"interpretation\": {\n      \"type\":
        \"string\",\n      \"description\": \"Interpretation of the observation\"\n    },\n    \"next_step\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"continue\",\n        \"finish\"\n      ],\n      \"description\":
        \"What to do next: ''#<DSPy::NextStep::Continue>'' or ''#<DSPy::NextStep::Finish>''\"\n    }\n  },\n  \"required\":
        [\n    \"interpretation\",\n    \"next_step\"\n  ]\n}\n```\n\nAll interactions
        will be structured in the following way, with the appropriate values filled
        in.\n## Input values\n```json\n{input_values}\n```\n## Output values\nRespond
        exclusively with the output schema fields in the json block below.\n```json\n{output_values}\n```\n\nIn
        adhering to this structure, your objective is: Process the observation from
        a tool and decide what to do next."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Also remember
        that I exercise on weekends.\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"I need to store the information that the user exercises
        on weekends to enhance context for future interactions. This will allow me
        to respond better when related questions arise.\",\n      \"action\": \"memory_store\",\n      \"tool_input\":
        {\n        \"key\": \"exercise_schedule\",\n        \"value\": \"I exercise
        on weekends.\",\n        \"tags\": null\n      },\n      \"observation\":
        \"Stored memory ''exercise_schedule'' successfully\"\n    }\n  ],\n  \"observation\":
        \"Stored memory ''exercise_schedule'' successfully\"\n}\n```\n\nRespond with
        the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '3737'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:40 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '1228'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '1242'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9865'
      X-Ratelimit-Remaining-Tokens:
      - '199177'
      X-Ratelimit-Reset-Requests:
      - 19m21.557s
      X-Ratelimit-Reset-Tokens:
      - 246ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba194e07ec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6RTYR4kFTbs3IC24FwNlOTOQTH",
          "object": "chat.completion",
          "created": 1765463919,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"interpretation\": \"The memory regarding the user's exercise schedule has been successfully stored, which will improve future interactions.\",\n  \"next_step\": \"finish\"\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 767,
            "completion_tokens": 42,
            "total_tokens": 809,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:40 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Also remember
        that I exercise on weekends.\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"I need to store the information that the user exercises
        on weekends to enhance context for future interactions. This will allow me
        to respond better when related questions arise.\",\n      \"action\": \"memory_store\",\n      \"tool_input\":
        {\n        \"key\": \"exercise_schedule\",\n        \"value\": \"I exercise
        on weekends.\",\n        \"tags\": null\n      },\n      \"observation\":
        \"Stored memory ''exercise_schedule'' successfully\"\n    }\n  ],\n  \"available_tools\":
        [\n    {\n      \"name\": \"memory_store\",\n      \"description\": \"Store
        a key-value pair in memory with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '9509'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:43 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '2448'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2463'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9864'
      X-Ratelimit-Remaining-Tokens:
      - '197961'
      X-Ratelimit-Reset-Requests:
      - 19m28.815s
      X-Ratelimit-Reset-Tokens:
      - 611ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba21cfbfec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6TtPcXgJjnKRMpNkjaxx537xYF",
          "object": "chat.completion",
          "created": 1765463921,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"The user has already stored information about their exercise routine on weekends. Next, I should check if there are any upcoming reminders or questions regarding this information that I can assist with, possibly by searching for relevant memories.\",\n  \"action\": \"memory_search\",\n  \"tool_input\": {\n    \"pattern\": \"exercise\",\n    \"in_keys\": true,\n    \"in_values\": true\n  },\n  \"final_answer\": null\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1803,
            "completion_tokens": 101,
            "total_tokens": 1904,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:43 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Can you list
        all the things you remember about me?\\\"}\",\n  \"history\": [],\n  \"available_tools\":
        [\n    {\n      \"name\": \"memory_store\",\n      \"description\": \"Store
        a key-value pair in memory with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '9014'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:45 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '1828'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '1840'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9864'
      X-Ratelimit-Remaining-Tokens:
      - '198076'
      X-Ratelimit-Reset-Requests:
      - 19m34.724s
      X-Ratelimit-Reset-Tokens:
      - 577ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba32fd04ec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6VQMPLiRnsV2I9E40Yxs3f1Qo6",
          "object": "chat.completion",
          "created": 1765463923,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"Since there is no prior history, I should start by retrieving the list of stored memories to see what I can remember about the user. This will help me provide a comprehensive response to their question.\",\n  \"action\": \"memory_list\",\n  \"tool_input\": null,\n  \"final_answer\": null\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1704,
            "completion_tokens": 76,
            "total_tokens": 1780,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:45 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts, actions, and observations.\"\n    },\n    \"observation\": {\n      \"type\":
        \"string\",\n      \"description\": \"The result from the last action\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"observation\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"interpretation\": {\n      \"type\":
        \"string\",\n      \"description\": \"Interpretation of the observation\"\n    },\n    \"next_step\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"continue\",\n        \"finish\"\n      ],\n      \"description\":
        \"What to do next: ''#<DSPy::NextStep::Continue>'' or ''#<DSPy::NextStep::Finish>''\"\n    }\n  },\n  \"required\":
        [\n    \"interpretation\",\n    \"next_step\"\n  ]\n}\n```\n\nAll interactions
        will be structured in the following way, with the appropriate values filled
        in.\n## Input values\n```json\n{input_values}\n```\n## Output values\nRespond
        exclusively with the output schema fields in the json block below.\n```json\n{output_values}\n```\n\nIn
        adhering to this structure, your objective is: Process the observation from
        a tool and decide what to do next."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Can you list
        all the things you remember about me?\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"Since there is no prior history, I should start by
        retrieving the list of stored memories to see what I can remember about the
        user. This will help me provide a comprehensive response to their question.\",\n      \"action\":
        \"memory_list\",\n      \"tool_input\": null,\n      \"observation\": [\n        \"exercise_schedule\",\n        \"morning_coffee_preference\"\n      ]\n    }\n  ],\n  \"observation\":
        [\n    \"exercise_schedule\",\n    \"morning_coffee_preference\"\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '3698'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:47 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '1382'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '1400'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9863'
      X-Ratelimit-Remaining-Tokens:
      - '199186'
      X-Ratelimit-Reset-Requests:
      - 19m41.25s
      X-Ratelimit-Reset-Tokens:
      - 244ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba400ab5ec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6XQRpaCAI0CUoHDpLCq2vWKS5I",
          "object": "chat.completion",
          "created": 1765463925,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"interpretation\": \"I retrieved the user's memories, which include their exercise schedule and morning coffee preference. This information will be used to answer the user's request.\",\n  \"next_step\": \"continue\"\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 770,
            "completion_tokens": 51,
            "total_tokens": 821,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:47 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Can you list
        all the things you remember about me?\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"Since there is no prior history, I should start by
        retrieving the list of stored memories to see what I can remember about the
        user. This will help me provide a comprehensive response to their question.\",\n      \"action\":
        \"memory_list\",\n      \"tool_input\": null,\n      \"observation\": [\n        \"exercise_schedule\",\n        \"morning_coffee_preference\"\n      ]\n    }\n  ],\n  \"available_tools\":
        [\n    {\n      \"name\": \"memory_store\",\n      \"description\": \"Store
        a key-value pair in memory with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '9451'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:49 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '2440'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2453'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9862'
      X-Ratelimit-Remaining-Tokens:
      - '197974'
      X-Ratelimit-Reset-Requests:
      - 19m48.336s
      X-Ratelimit-Reset-Tokens:
      - 607ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba49e81fec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6Z5YbhPZyUiiR1jEyYUqUKuV1A",
          "object": "chat.completion",
          "created": 1765463927,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"I have gathered some observations from the last action, namely the user has an exercise schedule and a morning coffee preference. Next, I should retrieve the stored memories based on these observations to provide a more comprehensive list of things I remember about the user.\",\n  \"action\": \"memory_retrieve\",\n  \"tool_input\": {\n    \"key\": \"exercise_schedule\"\n  },\n  \"final_answer\": null\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1798,
            "completion_tokens": 96,
            "total_tokens": 1894,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:49 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts, actions, and observations.\"\n    },\n    \"observation\": {\n      \"type\":
        \"string\",\n      \"description\": \"The result from the last action\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"observation\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"interpretation\": {\n      \"type\":
        \"string\",\n      \"description\": \"Interpretation of the observation\"\n    },\n    \"next_step\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"continue\",\n        \"finish\"\n      ],\n      \"description\":
        \"What to do next: ''#<DSPy::NextStep::Continue>'' or ''#<DSPy::NextStep::Finish>''\"\n    }\n  },\n  \"required\":
        [\n    \"interpretation\",\n    \"next_step\"\n  ]\n}\n```\n\nAll interactions
        will be structured in the following way, with the appropriate values filled
        in.\n## Input values\n```json\n{input_values}\n```\n## Output values\nRespond
        exclusively with the output schema fields in the json block below.\n```json\n{output_values}\n```\n\nIn
        adhering to this structure, your objective is: Process the observation from
        a tool and decide what to do next."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Can you list
        all the things you remember about me?\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"Since there is no prior history, I should start by
        retrieving the list of stored memories to see what I can remember about the
        user. This will help me provide a comprehensive response to their question.\",\n      \"action\":
        \"memory_list\",\n      \"tool_input\": null,\n      \"observation\": [\n        \"exercise_schedule\",\n        \"morning_coffee_preference\"\n      ]\n    },\n    {\n      \"step\":
        2,\n      \"thought\": \"I have gathered some observations from the last action,
        namely the user has an exercise schedule and a morning coffee preference.
        Next, I should retrieve the stored memories based on these observations to
        provide a more comprehensive list of things I remember about the user.\",\n      \"action\":
        \"memory_retrieve\",\n      \"tool_input\": {\n        \"key\": \"exercise_schedule\"\n      },\n      \"observation\":
        \"I exercise on weekends.\"\n    }\n  ],\n  \"observation\": \"I exercise
        on weekends.\"\n}\n```\n\nRespond with the corresponding output schema fields
        wrapped in a ```json ``` block,\nstarting with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '4159'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:51 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '1611'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '1624'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9861'
      X-Ratelimit-Remaining-Tokens:
      - '199076'
      X-Ratelimit-Reset-Requests:
      - 19m54.362s
      X-Ratelimit-Reset-Tokens:
      - 276ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba5a4a7cec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6cHOllrN54Rgpc4tLZXcbZncCe",
          "object": "chat.completion",
          "created": 1765463930,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"interpretation\": \"The user exercises on weekends which is a detail about their routine. However, more information might be necessary to fully answer the question about all the things remembered.\",\n  \"next_step\": \"continue\"\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 860,
            "completion_tokens": 55,
            "total_tokens": 915,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:51 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Can you list
        all the things you remember about me?\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"Since there is no prior history, I should start by
        retrieving the list of stored memories to see what I can remember about the
        user. This will help me provide a comprehensive response to their question.\",\n      \"action\":
        \"memory_list\",\n      \"tool_input\": null,\n      \"observation\": [\n        \"exercise_schedule\",\n        \"morning_coffee_preference\"\n      ]\n    },\n    {\n      \"step\":
        2,\n      \"thought\": \"I have gathered some observations from the last action,
        namely the user has an exercise schedule and a morning coffee preference.
        Next, I should retrieve the stored memories based on these observations to
        provide a more comprehensive list of things I remember about the user.\",\n      \"action\":
        \"memory_retrieve\",\n      \"tool_input\": {\n        \"key\": \"exercise_schedule\"\n      },\n      \"observation\":
        \"I exercise on weekends.\"\n    }\n  ],\n  \"available_tools\": [\n    {\n      \"name\":
        \"memory_store\",\n      \"description\": \"Store a key-value pair in memory
        with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '9954'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:54 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '2367'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2383'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9860'
      X-Ratelimit-Remaining-Tokens:
      - '197855'
      X-Ratelimit-Reset-Requests:
      - 20m1.245s
      X-Ratelimit-Reset-Tokens:
      - 643ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba65393eec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6dTRdaBbqH65mKwbj5nQiEQyTR",
          "object": "chat.completion",
          "created": 1765463931,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"I have retrieved information about the user's exercise schedule, specifically that they exercise on weekends. To gather more details and provide a complete response to the user's question, I should now retrieve the memory associated with their morning coffee preference.\",\n  \"action\": \"memory_retrieve\",\n  \"tool_input\": {\n    \"key\": \"morning_coffee_preference\"\n  },\n  \"final_answer\": null\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1899,
            "completion_tokens": 95,
            "total_tokens": 1994,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:54 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts, actions, and observations.\"\n    },\n    \"observation\": {\n      \"type\":
        \"string\",\n      \"description\": \"The result from the last action\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"observation\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"interpretation\": {\n      \"type\":
        \"string\",\n      \"description\": \"Interpretation of the observation\"\n    },\n    \"next_step\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"continue\",\n        \"finish\"\n      ],\n      \"description\":
        \"What to do next: ''#<DSPy::NextStep::Continue>'' or ''#<DSPy::NextStep::Finish>''\"\n    }\n  },\n  \"required\":
        [\n    \"interpretation\",\n    \"next_step\"\n  ]\n}\n```\n\nAll interactions
        will be structured in the following way, with the appropriate values filled
        in.\n## Input values\n```json\n{input_values}\n```\n## Output values\nRespond
        exclusively with the output schema fields in the json block below.\n```json\n{output_values}\n```\n\nIn
        adhering to this structure, your objective is: Process the observation from
        a tool and decide what to do next."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Can you list
        all the things you remember about me?\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"Since there is no prior history, I should start by
        retrieving the list of stored memories to see what I can remember about the
        user. This will help me provide a comprehensive response to their question.\",\n      \"action\":
        \"memory_list\",\n      \"tool_input\": null,\n      \"observation\": [\n        \"exercise_schedule\",\n        \"morning_coffee_preference\"\n      ]\n    },\n    {\n      \"step\":
        2,\n      \"thought\": \"I have gathered some observations from the last action,
        namely the user has an exercise schedule and a morning coffee preference.
        Next, I should retrieve the stored memories based on these observations to
        provide a more comprehensive list of things I remember about the user.\",\n      \"action\":
        \"memory_retrieve\",\n      \"tool_input\": {\n        \"key\": \"exercise_schedule\"\n      },\n      \"observation\":
        \"I exercise on weekends.\"\n    },\n    {\n      \"step\": 3,\n      \"thought\":
        \"I have retrieved information about the user''s exercise schedule, specifically
        that they exercise on weekends. To gather more details and provide a complete
        response to the user''s question, I should now retrieve the memory associated
        with their morning coffee preference.\",\n      \"action\": \"memory_retrieve\",\n      \"tool_input\":
        {\n        \"key\": \"morning_coffee_preference\"\n      },\n      \"observation\":
        \"I like coffee in the morning\"\n    }\n  ],\n  \"observation\": \"I like
        coffee in the morning\"\n}\n```\n\nRespond with the corresponding output schema
        fields wrapped in a ```json ``` block,\nstarting with the heading `## Output
        values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '4675'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:56 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '1396'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '1687'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9860'
      X-Ratelimit-Remaining-Tokens:
      - '198955'
      X-Ratelimit-Reset-Requests:
      - 20m7.098s
      X-Ratelimit-Reset-Tokens:
      - 313ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba74fefeec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6gcBu53fN8HLVm1WBAJs8IYLWu",
          "object": "chat.completion",
          "created": 1765463934,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"interpretation\": \"The user enjoys coffee in the morning and exercises on weekends. This suggests specific habits that can be included in the response about what I remember about them.\",\n  \"next_step\": \"finish\"\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 964,
            "completion_tokens": 54,
            "total_tokens": 1018,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:56 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"input_context\": {\n      \"type\":
        \"string\",\n      \"description\": \"Serialized representation of all input
        fields\"\n    },\n    \"history\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"HistoryEntry\"\n          },\n          \"step\":
        {\n            \"type\": \"integer\"\n          },\n          \"thought\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"action\":
        {\n            \"type\": [\n              \"string\",\n              \"null\"\n            ]\n          },\n          \"tool_input\":
        {\n            \"type\": [\n              \"object\",\n              \"null\"\n            ],\n            \"additionalProperties\":
        {\n              \"type\": \"string\"\n            },\n            \"description\":
        \"A mapping where keys are Strings and values are strings\"\n          },\n          \"observation\":
        {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"step\",\n          \"observation\"\n        ],\n        \"description\":
        \"DSPy::HistoryEntry struct\"\n      },\n      \"description\": \"Previous
        thoughts and actions, including observations from tools.\"\n    },\n    \"available_tools\":
        {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\":
        {\n          \"_type\": {\n            \"type\": \"string\",\n            \"const\":
        \"AvailableTool\"\n          },\n          \"name\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"schema\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\":
        [\n          \"_type\",\n          \"name\",\n          \"description\",\n          \"schema\"\n        ],\n        \"description\":
        \"DSPy::ReAct::AvailableTool struct\"\n      },\n      \"description\": \"Array
        of available tools with their JSON schemas.\"\n    }\n  },\n  \"required\":
        [\n    \"input_context\",\n    \"history\",\n    \"available_tools\"\n  ]\n}\n```\nYour
        output schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"thought\": {\n      \"type\": \"string\",\n      \"description\":
        \"Reasoning about what to do next, considering the history and observations.\"\n    },\n    \"action\":
        {\n      \"type\": \"string\",\n      \"enum\": [\n        \"memory_store\",\n        \"memory_retrieve\",\n        \"memory_search\",\n        \"memory_list\",\n        \"memory_update\",\n        \"memory_delete\",\n        \"memory_clear\",\n        \"memory_count\",\n        \"memory_get_metadata\",\n        \"finish\"\n      ],\n      \"description\":
        \"The action to take. MUST be one of the tool names listed in `available_tools`
        input, or the literal string \\\"finish\\\" to provide the final answer.\"\n    },\n    \"tool_input\":
        {\n      \"type\": [\n        \"object\",\n        \"null\"\n      ],\n      \"additionalProperties\":
        {\n        \"type\": \"string\"\n      },\n      \"description\": \"Input
        for the chosen tool action. Required when action is a tool name. MUST be a
        JSON object matching the tool''s parameter schema. Set to null when action
        is \\\"finish\\\".\"\n    },\n    \"final_answer\": {\n      \"type\": [\n        \"string\",\n        \"null\"\n      ],\n      \"description\":
        \"The final answer to return. Required when action is \\\"finish\\\". Must
        match the expected output type. Set to null when action is a tool name.\"\n    }\n  },\n  \"required\":
        [\n    \"thought\",\n    \"action\",\n    \"tool_input\",\n    \"final_answer\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Generate a thought about what to do next to process the given
        inputs."},{"role":"user","content":"## Input Values\n```json\n{\n  \"input_context\":
        \"{\\\"_type\\\":\\\"AnonymousStruct\\\",\\\"question\\\":\\\"Can you list
        all the things you remember about me?\\\"}\",\n  \"history\": [\n    {\n      \"step\":
        1,\n      \"thought\": \"Since there is no prior history, I should start by
        retrieving the list of stored memories to see what I can remember about the
        user. This will help me provide a comprehensive response to their question.\",\n      \"action\":
        \"memory_list\",\n      \"tool_input\": null,\n      \"observation\": [\n        \"exercise_schedule\",\n        \"morning_coffee_preference\"\n      ]\n    },\n    {\n      \"step\":
        2,\n      \"thought\": \"I have gathered some observations from the last action,
        namely the user has an exercise schedule and a morning coffee preference.
        Next, I should retrieve the stored memories based on these observations to
        provide a more comprehensive list of things I remember about the user.\",\n      \"action\":
        \"memory_retrieve\",\n      \"tool_input\": {\n        \"key\": \"exercise_schedule\"\n      },\n      \"observation\":
        \"I exercise on weekends.\"\n    },\n    {\n      \"step\": 3,\n      \"thought\":
        \"I have retrieved information about the user''s exercise schedule, specifically
        that they exercise on weekends. To gather more details and provide a complete
        response to the user''s question, I should now retrieve the memory associated
        with their morning coffee preference.\",\n      \"action\": \"memory_retrieve\",\n      \"tool_input\":
        {\n        \"key\": \"morning_coffee_preference\"\n      },\n      \"observation\":
        \"I like coffee in the morning\"\n    }\n  ],\n  \"available_tools\": [\n    {\n      \"name\":
        \"memory_store\",\n      \"description\": \"Store a key-value pair in memory
        with optional tags\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_store\\\",\\\"description\\\":\\\"Store
        a key-value pair in memory with optional tags\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"},\\\"tags\\\":{\\\"type\\\":[\\\"array\\\",\\\"null\\\"],\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":\\\"Parameter
        tags (optional)\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_retrieve\",\n      \"description\": \"Retrieve a value by key from
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_retrieve\\\",\\\"description\\\":\\\"Retrieve
        a value by key from memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_search\",\n      \"description\": \"Search memories by pattern in
        keys and/or values\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_search\\\",\\\"description\\\":\\\"Search
        memories by pattern in keys and/or values\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        pattern\\\"},\\\"in_keys\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_keys (optional)\\\"},\\\"in_values\\\":{\\\"type\\\":\\\"boolean\\\",\\\"description\\\":\\\"Parameter
        in_values (optional)\\\"}},\\\"required\\\":[\\\"pattern\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_list\",\n      \"description\": \"List all stored memory keys\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_list\\\",\\\"description\\\":\\\"List all stored
        memory keys\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_update\",\n      \"description\": \"Update an existing memory value\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_update\\\",\\\"description\\\":\\\"Update an existing
        memory value\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"},\\\"value\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        value\\\"}},\\\"required\\\":[\\\"key\\\",\\\"value\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_delete\",\n      \"description\": \"Delete a memory by key\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_delete\\\",\\\"description\\\":\\\"Delete a memory
        by key\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    },\n    {\n      \"name\":
        \"memory_clear\",\n      \"description\": \"Clear all stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_clear\\\",\\\"description\\\":\\\"Clear all stored
        memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_count\",\n      \"description\": \"Get the count of stored memories\",\n      \"schema\":
        \"{\\\"name\\\":\\\"memory_count\\\",\\\"description\\\":\\\"Get the count
        of stored memories\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[]}}\"\n    },\n    {\n      \"name\":
        \"memory_get_metadata\",\n      \"description\": \"Get metadata for a specific
        memory\",\n      \"schema\": \"{\\\"name\\\":\\\"memory_get_metadata\\\",\\\"description\\\":\\\"Get
        metadata for a specific memory\\\",\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"key\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"Parameter
        key\\\"}},\\\"required\\\":[\\\"key\\\"]}}\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`."}],"temperature":1.0}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.36.0
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.36.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.5
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_API_KEY>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '10465'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Dec 2025 14:38:58 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '2268'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2519'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9859'
      X-Ratelimit-Remaining-Tokens:
      - '197735'
      X-Ratelimit-Reset-Requests:
      - 20m13.93s
      X-Ratelimit-Reset-Tokens:
      - 679ms
      X-Request-Id:
      - "<REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=<REDACTED>
      - _cfuvid=<REDACTED>
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9ac5ba805821ec95-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-Clc6io9BJIefdhaK7rvm4I8j5SGp3",
          "object": "chat.completion",
          "created": 1765463936,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "## Output values\n```json\n{\n  \"thought\": \"I have now retrieved information about the user's exercise schedule and their morning coffee preference. To summarize my memory of the user comprehensively, I should now format this information into a coherent list and present it back to the user.\",\n  \"action\": \"finish\",\n  \"tool_input\": null,\n  \"final_answer\": \"I remember that you exercise on weekends and that you like coffee in the morning.\"\n}\n```",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 2001,
            "completion_tokens": 95,
            "total_tokens": 2096,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_11f3029f6b"
        }
  recorded_at: Thu, 11 Dec 2025 14:38:58 GMT
recorded_with: VCR 6.3.1
